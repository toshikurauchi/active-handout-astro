---
const classNames = {
  "1:1": "aspect-ratio-1-1",
  "4:3": "aspect-ratio-4-3",
  "3:4": "aspect-ratio-3-4",
  "16:9": "aspect-ratio-16-9",
  "9:16": "aspect-ratio-9-16",
  "3:2": "aspect-ratio-3-2",
  "2:3": "aspect-ratio-2-3",
  "8:5": "aspect-ratio-8-5",
  "5:8": "aspect-ratio-5-8",
  A4: "aspect-ratio-a4",
  "A4-landscape": "aspect-ratio-a4-landscape",
};

interface Props {
  url: string;
  aspect?: keyof typeof classNames;
}

const { url, aspect } = Astro.props;

const className = `container ${classNames[aspect || "1:1"]}`;
---

<div class={className}>
  <embed
    class="embeded-pdf"
    src={url}
    width="100%"
    height="375"
    type="application/pdf"
  />
</div>

<style lang="scss">
  @use "sass:map";
  $ratios: (
    "1-1": 1 / 1,
    "4-3": 4 / 3,
    "3-4": 3 / 4,
    "16-9": 16 / 9,
    "9-16": 9 / 16,
    "3-2": 3 / 2,
    "2-3": 2 / 3,
    "8-5": 8 / 5,
    "5-8": 5 / 8,
    "a4": 210 / 297,
    "a4-landscape": 297 / 210,
  );

  .container {
    width: 100%;
    padding-top: 100%;
    position: relative;

    $header-height: 60px;
    @each $ratio, $value in $ratios {
      &.aspect-ratio-#{$ratio} {
        padding-top: calc(100% * #{1 / $value} + $header-height);
      }
    }

    embed {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
  }
</style>
