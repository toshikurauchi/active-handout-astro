---
import { getAutoIncrementedExerciseNumber } from "../exercise-utils";
import Component from "./ReactComponent";

const pageId = Astro.url.pathname;

interface Props {
  slug: string;
  tags: string[];
}

if (!Astro.props.tags) {
  Astro.props.tags = [];
}
const { slug, tags } = Astro.props;
tags.push("progress-exercise");

const exerciseNumber = getAutoIncrementedExerciseNumber(Astro.locals, slug);
---

<Component
  pageId={pageId}
  slug={slug}
  exerciseNumber={exerciseNumber}
  client:visible
>
  <slot />
</Component>
